I"³<p>Letâ€™s explore some basic concepts about probability and <a href="https://dotnet.github.io/infer/" target="\_blank">Infer.NET</a></p>

<h2 id="two-boys-or-two-girls">Two boys or two girls</h2>

<p>Given two children, what is the probability that the two are boys or the two are girls?</p>

<h3 id="probabilities">Probabilities</h3>

<p>Since we are not given any extra information about the two children, then each child is equally likely to be a girl or a boy.</p>

<p>So the probability that the first child is a boy can be given by:</p>

<p><script type="math/tex">p(first\_boy) = 0.5</script>.</p>

<p>And the probability that the second child is a boy can be given by:</p>

<p><script type="math/tex">p(second\_boy) = 0.5</script>.</p>

<p>From the <strong><em>complement rule</em></strong> of probability which states that the sum of the probabilities of an event and its complement must equal 1, We get:</p>

<p><script type="math/tex">p(first\_girl) = 1 - p(first\_boy) = 1 - 0.5 = 0.5</script>.</p>

<p><script type="math/tex">p(second\_girl) = 1 - p(second\_boy) = 1 - 0.5 = 0.5</script>.</p>

<p>Then the probability that the two children are boys is given by:</p>

<script type="math/tex; mode=display">p(both\_boys) = p(first\_boy) * p(second\_boy)</script>

<script type="math/tex; mode=display">p(both\_boys) = 0.5 * 0.5 = 0.25</script>

<p>And the probability that the two children are girls is given by:</p>

<script type="math/tex; mode=display">p(both\_girls) = p(first\_girl) * p(second\_girl)</script>

<script type="math/tex; mode=display">p(both\_girls) = 0.5 * 0.5 = 0.25</script>

<h3 id="infernet">Infer.NET</h3>

<p>Letâ€™s see how to represent and solve the above problem using <a href="https://dotnet.github.io/infer/" target="\_blank">Infer.NET</a>.</p>

<p>To represent the gender of the child, we can use a binary probability distribution over a boolean value. Where the value of <em>true</em> can represent boy and <em>false</em> can represent <em>girl</em>. In <em>Infer.NET</em> we can do that by creating a random variable and specify its prior distribution to be a <a href="https://en.wikipedia.org/wiki/Bernoulli_distribution" target="\_blank">Bernoulli distribution</a> (a type of binary distributions).</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// a random variable representing the first child is a boy</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">first_boy</span> <span class="p">=</span> <span class="n">Variable</span><span class="p">.</span><span class="nf">Bernoulli</span><span class="p">(</span><span class="m">0.5</span><span class="p">);</span>

<span class="c1">// a random variable representing the second child is a boy</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">second_boy</span> <span class="p">=</span> <span class="n">Variable</span><span class="p">.</span><span class="nf">Bernoulli</span><span class="p">(</span><span class="m">0.5</span><span class="p">);</span>
</code></pre></div></div>

<p>Now we can represent the rest of the probabilities using the random variables defined above as follows:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// a derived random variable representing the first child is a girl</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">first_girl</span> <span class="p">=</span> <span class="p">!</span><span class="n">first_boy</span><span class="p">;</span>

<span class="c1">// a derived random variable representing the second child is a girl</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">second_girl</span> <span class="p">=</span> <span class="p">!</span><span class="n">second_boy</span><span class="p">;</span>

<span class="c1">// a derived random variable representing both childs are boys</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">both_boys</span> <span class="p">=</span> <span class="n">first_boy</span> <span class="p">&amp;</span> <span class="n">second_boy</span><span class="p">;</span>

<span class="c1">// a derived random variable representing both childs are girls</span>
<span class="n">Variable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">both_girls</span> <span class="p">=</span> <span class="n">first_girl</span> <span class="p">&amp;</span> <span class="n">second_girl</span><span class="p">;</span>
</code></pre></div></div>

<p>To calculate the value of the derived random variables <em>both_boys</em> and <em>both_girls</em> (i.e. the distribution of these random variables), we need to perform <em>inference</em>. And to perform inference in Infer.NET, we need to use an inference engine.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// create an inference engine</span>
<span class="n">InferenceEngine</span> <span class="n">engine</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InferenceEngine</span><span class="p">();</span>

<span class="c1">// perform inference on the random variable both_boys</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Probability both childs are are boys: "</span> <span class="p">+</span> <span class="n">engine</span><span class="p">.</span><span class="nf">Infer</span><span class="p">(</span><span class="n">both_boys</span><span class="p">));</span>

<span class="c1">// perform inference on the random variable both_girls</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Probability both childs are are girls: "</span> <span class="p">+</span> <span class="n">engine</span><span class="p">.</span><span class="nf">Infer</span><span class="p">(</span><span class="n">both_girls</span><span class="p">));</span>
</code></pre></div></div>

<p>When run, this code prints out:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Compiling model...done.
Probability both childs are are boys: Bernoulli<span class="o">(</span>0.25<span class="o">)</span>
Probability both childs are are girls: Bernoulli<span class="o">(</span>0.25<span class="o">)</span>
</code></pre></div></div>
:ET